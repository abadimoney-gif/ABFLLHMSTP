-- [[ MEGA HYBRID SYSTEM 2026 - GHOST VM x ABADIFM ]]
-- Status: All Features Auto-Activated | iOS Overlay Integrated

local _PAYLOAD = "Z2V0Z2VudigpLkdob3N0Q29uZmlnID0gewogICAgU3RpZmZFbmFibGVkID0gdHJ1ZSwKICAgIEZsb2F0SGVpZ2h0ID0gMi44LAogICAgQW50aURldGVjdCA9IHRydWUsCiAgICBUZWxlcG9ydEtleSA9ICIvZ290byIsCiAgICBPcGNvZGVzID0gezB4MSwgMHgyLCAweDN9Cn0KCi0tIEdIT1NUIENPUkUgTE9HSUMKbG9jYWwgUGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIGZ1bmN0aW9uIE5vdGlmeSh0LCB4KSBnYW1lOkdldFNlcnZpY2UoIlN0YXJ0ZXJHdWkiKTpTZXRDb3JlKCJTZW5kTm90aWZpY2F0aW9uIiwge1RpdGxlID0gdCwgVGV4dCA9IHgsIER1cmF0aW9uID0gNX0pIGVuZApsb2NhbCBmdW5jdGlvbiBHaG9zdEludGVycHJldGVyKGluc3RydWN0aW9uLCBkYXRhKQogICAgaWYgaW5zdHJ1Y3Rpb24gPT0gMHgxIHRoZW4KICAgICAgICBsb2NhbCBDaGFyID0gZGF0YQogICAgICAgIGxvY2FsIEFuaW1hdGUgPSBDaGFyOkZpbmRGaXJzdENoaWxkKCJBbmltYXRlIikKICAgICAgICBpZiBBbmltYXRlIHRoZW4gQW5pbWF0ZTpEZXN0cm95KCkgZW5kCiAgICAgICAgbG9jYWwgSHVtID0gQ2hhcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICBpZiBIdW0gdGhlbiAKICAgICAgICAgICAgSHVtLkhpcEhlaWdodCA9IGdldGdlbnYoKS5HaG9zdENvbmZpZy5GbG9hdEhlaWdodAogICAgICAgICAgICBmb3IgXywgdiBpbiBwYWlycyhIdW06R2V0UGxheWluZ0FuaW1hdGlvblRyYWNrcygpKSBkbyB2OlN0b3AoKSBlbmQKICAgICAgICBlbmQKICAgIGVsc2VpZiBpbnN0cnVjdGlvbiA9PSAweDIgdGhlbgogICAgICAgIGxvY2FsIG10ID0gZ2V0cmF3bWV0YXRhYmxlKGdhbWUpCiAgICAgICAgc2V0cmVhZG9ubHkobXQsIGZhbHNlKQogICAgICAgIGxvY2FsIG9sZE5hbWVjYWxsID0gbXQuX19uYW1lY2FsbAogICAgICAgIG10Ll9fbmFtZWNhbGwgPSBuZXdjY2xvc3VyZShmdW5jdGlvbihzZWxmLCAuLi4pCiAgICAgICAgICAgIGxvY2FsIG1ldGhvZCA9IGdldG5hbWVjYWxsbWV0aG9kKCkKICAgICAgICAgICAgaWYgbWV0aG9kID09ICJGaXJlU2VydmVyIiBhbmQgKHNlbGYuTmFtZTpmaW5kKCJSZXBvcnQiKSBvciBzZWxmLk5hbWU6ZmluZCgiRGV0ZWN0IikpIHRoZW4gcmV0dXJuIG5pbCBlbmQKICAgICAgICAgICAgcmV0dXJuIG9sZE5hbWVjYWxsKHNlbGYsIC4uLikKICAgICAgICBlbmQpCiAgICAgICAgc2V0cmVhZG9ubHkobXQsIHRydWUpCiAgICBlbHNlaWYgaW5zdHJ1Y3Rpb24gPT0gMHgzIHRoZW4KICAgICAgICBsb2NhbCB0YXJnZXQgPSBkYXRhCiAgICAgICAgaWYgUGxheWVyLkNoYXJhY3RlciBhbmQgdGFyZ2V0LkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgIFBsYXllci5DaGFyYWN0ZXI6UGl2b3RUbyh0YXJnZXQuQ2hhcmFjdGVyOkdldFBpdm90KCkgKiBDRnJhbWUubmV3KDAsIDIsIDApKQogICAgICAgIGVuZAogICAgZW5kCmVuZAoKdm1fY29yZSA9IGZ1bmN0aW9uKCkKICAgIGxvY2FsIENoYXJhY3RlciA9IFBsYXllci5DaGFyYWN0ZXIgb3IgUGxheWVyLkNoYXJhY3RlckFkZGVkOldhaXQoKQogICAgaWYgZ2V0Z2VudigpLkdob3N0Q29uZmlnLlN0aWZmRW5hYmxlZCB0aGVuIEdob3N0SW50ZXJwcmV0ZXIoMHgxLCBDaGFyYWN0ZXIpIGVuZAogICAgaWYgZ2V0Z2VudigpLkdob3N0Q29uZmlnLkFudGlEZXRlY3QgdGhlbiBHaG9zdEludGVycHJldGVyKDB4MikgZ2V0Z2VudigpLkdob3N0Q29uZmlnLkFudGlEZXRlY3QgPSBmYWxzZSBlbmQKZW5kClBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKENoYXIpIHRhc2sud2FpdCgwLjUpIEdob3N0SW50ZXJwcmV0ZXIoMHgxLCBDaGFyKSBlbmQpCnRhc2suc3Bhd24odm1fY29yZSk="

-- [[ SERVICES ]]
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local StarterGui = game:GetService("StarterGui")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- [[ CONFIGURATION ]]
getgenv().Config = {
    FlySpeed = 100, WalkSpeed = 100, JumpPower = 150, HitboxSize = 25,
    RingRadius = 20, RingActive = true, BlackholeActive = true, -- AUTO ON
    Noclip = true, Flying = true -- AUTO ON
}

local bodyVelocity, bodyGyro
local RingParts = {}
local buttons = {}

-- [[ iOS OVERLAY UI ]]
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "iOS_Keybinds"

local Holder = Instance.new("Frame", ScreenGui)
Holder.Size = UDim2.new(0, 180, 0, 130)
Holder.Position = UDim2.new(0, 15, 1, -150)
Holder.BackgroundTransparency = 1

local UIList = Instance.new("UIListLayout", Holder)
UIList.Padding = UDim.new(0, 6)

local function CreateButton(key, label)
    local Frame = Instance.new("Frame", Holder)
    Frame.Size = UDim2.new(1, 0, 0, 28)
    Frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- Default White (Active)
    Frame.BackgroundTransparency = 0.2
    
    local Corner = Instance.new("UICorner", Frame)
    Corner.CornerRadius = UDim.new(0, 8)
    
    local TextLabel = Instance.new("TextLabel", Frame)
    TextLabel.Size = UDim2.new(1, -10, 1, 0)
    TextLabel.Position = UDim2.new(0, 10, 0, 0)
    TextLabel.BackgroundTransparency = 1
    TextLabel.Text = "[" .. key .. "] " .. label
    TextLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel.Font = Enum.Font.SourceSansBold
    TextLabel.TextSize = 14
    TextLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    buttons[key] = {Frame = Frame, Label = TextLabel}
end

CreateButton("F", "Flight Active")
CreateButton("G", "Noclip Active")
CreateButton("B", "Blackhole Active")

local function UpdateVisual(key, state)
    if buttons[key] then
        local targetColor = state and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(0, 0, 0)
        local targetText = state and Color3.fromRGB(0, 0, 0) or Color3.fromRGB(255, 255, 255)
        TweenService:Create(buttons[key].Frame, TweenInfo.new(0.3), {BackgroundColor3 = targetColor, BackgroundTransparency = state and 0.2 or 0.5}):Play()
        TweenService:Create(buttons[key].Label, TweenInfo.new(0.3), {TextColor3 = targetText}):Play()
    end
end

-- [[ MOVEMENT ENGINE ]]
local function toggleFly(forcedState)
    if forcedState ~= nil then getgenv().Config.Flying = forcedState else getgenv().Config.Flying = not getgenv().Config.Flying end
    UpdateVisual("F", getgenv().Config.Flying)
    
    local root = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not root then return end
    
    if getgenv().Config.Flying then
        LocalPlayer.Character.Humanoid.PlatformStand = true
        bodyVelocity = Instance.new("BodyVelocity", root)
        bodyVelocity.Name = "GhostFly"
        bodyVelocity.MaxForce = Vector3.new(1,1,1) * math.huge
        bodyGyro = Instance.new("BodyGyro", root)
        bodyGyro.Name = "GhostGyro"
        bodyGyro.MaxTorque = Vector3.new(1,1,1) * math.huge
    else
        LocalPlayer.Character.Humanoid.PlatformStand = false
        if root:FindFirstChild("GhostFly") then root.GhostFly:Destroy() end
        if root:FindFirstChild("GhostGyro") then root.GhostGyro:Destroy() end
    end
end

-- [[ LOOPS & AUTOMATION ]]
RunService.Stepped:Connect(function()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.WalkSpeed = getgenv().Config.WalkSpeed
        if getgenv().Config.Noclip then
            for _, v in pairs(LocalPlayer.Character:GetDescendants()) do
                if v:IsA("BasePart") then v.CanCollide = false end
            end
        end
    end
end)

RunService.RenderStepped:Connect(function()
    if getgenv().Config.Flying and bodyVelocity and bodyGyro then
        local moveDir = Vector3.new(0,0,0)
        local cam = workspace.CurrentCamera
        if UIS:IsKeyDown(Enum.KeyCode.W) then moveDir += cam.CFrame.LookVector end
        if UIS:IsKeyDown(Enum.KeyCode.S) then moveDir -= cam.CFrame.LookVector end
        if UIS:IsKeyDown(Enum.KeyCode.A) then moveDir -= cam.CFrame.RightVector end
        if UIS:IsKeyDown(Enum.KeyCode.D) then moveDir += cam.CFrame.RightVector end
        bodyVelocity.Velocity = moveDir * getgenv().Config.FlySpeed
        bodyGyro.CFrame = cam.CFrame
    end
end)

-- [[ AUTO INITIALIZE ]]
task.spawn(function()
    task.wait(1)
    toggleFly(true) -- Auto Start Fly
    UpdateVisual("G", true) -- Auto Start Noclip Visual
    UpdateVisual("B", true) -- Auto Start Blackhole Visual
end)

-- VM Decoder & execution
local function _VM_EXECUTE(stream)
    local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
    local data = stream:gsub('[^'..b..'=]', '')
    local decoded = (data:gsub('.', function(x)
        if (x == '=') then return '' end
        local r,f='',(b:find(x)-1)
        for i=6,1,-1 do r=r..(f%2^i-f%2^(i-1)>0 and '1' or '0') end
        return r;
    end):gsub('%d%d%d%d%d%d%d%d', function(x)
        local c=0
        for i=1,8 do c=c+(x:sub(i,i)=='1' and 2^(8-i) or 0) end
        return string.char(c)
    end))
    loadstring(decoded)()
end

_VM_EXECUTE(_PAYLOAD)

-- Input Bindings (Tetap bisa dimatikan manual jika perlu)
UIS.InputBegan:Connect(function(i, gpe)
    if gpe then return end
    if i.KeyCode == Enum.KeyCode.F then toggleFly()
    elseif i.KeyCode == Enum.KeyCode.G then getgenv().Config.Noclip = not getgenv().Config.Noclip UpdateVisual("G", getgenv().Config.Noclip)
    elseif i.KeyCode == Enum.KeyCode.B then getgenv().Config.BlackholeActive = not getgenv().Config.BlackholeActive UpdateVisual("B", getgenv().Config.BlackholeActive)
    end
end)
